<!DOCTYPE html>
<html>
    <head>
        <title>Canvas Painter</title>
        <style type="text/css">
            canvas{border: 3px solid magenta};
        </style>



        <script type = "text/javascript" src = "..\test_02(canvas)\canvas.js"></script>
    </head>
    <body>
        <!-- http://www.soen.kr/html5/canvas/canvas.html -->
           
            <p> 캔버스에 직접 그린다 </p>
            <canvas id="canvas" width="400" height="200">
                이 브라우저는 캔버스를 지원하지 않습니다.
            </canvas>
            <!-- <canvas id="canvas2" width="500" height="500">
                이 브라우저는 캔버스를 지원하지 않습니다.
            </canvas> -->

            <img id = "image"/>
            <script>
                var canvas;
                var ctx;

                window.onload = function(){
                    canvas = document.getElementById("canvas");
                    if(canvas == null || canvas.getContext == null) return;
                    ctx = canvas.getContext("2d");

                    //draw();
                    //draw_closePath(2);
                    //draw_pathrect();
                    //draw_circle();
                    //draw_pie();
                    //draw_arcTo();
                    //draw_roundarc();
                    //draw_triangle();
                    //draw_curve();
                    //draw_bezier();
                    //draw_RGBA();
                    //draw_colorStyle();
                    //draw_globalalpha();
                    //draw_lineargradient();
                    //draw_lineargradient2();
                    //draw_lineargradient3();
                    //draw_rainbow();
                    //draw_lineargradient4();
                    //draw_lineargradient5();
                    //draw_radialgradient();
                    //draw_radialgradient2();
                    //draw_radialgradient3();
                    //draw_linewidth();
                    //draw_linecap();
                    //linejoin();
                    //draw_shadow();
                    //draw_shadow2();
                    //composite();
                    //savererstore();
                    //savererstore2();
                    //draw_filltext();
                    //draw_filltext2();
                    //draw_fillstyle();
                    //draw_fillstyle2();
                    //draw_gradienttext();
                    //draw_textalign();
                    //draw_image();
                    //draw_image4();
                    //draw_png();
                    //draw_alpha();
                    //draw_imageshadow();
                    //draw_imagecomposite();
                    //draw_imageload();
                    //draw_imageload3();
                    //draw_offcanvas();
                    //draw_offcanvas2();
                    //draw_offcanvas3();
                    //draw_imagepattern();
                    //draw_imagepattern2();
                    //draw_imagepattern3();
                    //draw_imagepattern4();
                    //draw_revert();
                    //draw_dataurl();
                    //draw_clipping();
                    //draw_clipping2();
                    //draw_clipping3();
                    //draw_clipping4();
                    //draw_translate();
                    //draw_translate2();
                    //draw_translate3();
                    //draw_Scale();
                    //draw_transorder();
                    draw_mirroring();
                }
                function draw(){
                    // draw rect
                    // ctx.strokeRect(10,10,100,100);
                    // ctx.fillRect(120,10,200,100);
                    // ctx.clearRect(170,40,80,40);
                    // draw line
                    // drawline(10,10,250,150);
                    // drawline(10,10,50,150);
                    
                    // draw circle
                    // ctx.strokeCircle(100,100,80);
                    // ctx.fillCircle(300,100,80);
                    // draw roundRect
                    // ctx.strokeRoundRect(10,10,120,100,20);
                    // ctx.fillRoundRect(150,10,120,100,30);
                }


                function draw_dot() {
                    var img = new Image();
                    img.src = "cosmos.jpg";
                    img.crossorigin = "Anonymous";
                    img.onload = function () {
                        const ctx = canvas.getContext('2d');
                        ctx.drawImage(img, 0, 0);


                        var imgData = ctx.getImageData(0, 0, canvas.offsetWidth, canvas.offsetHeight);
                        var raster = imgData.data;
                        for (var i = 0; i < raster.length; i++) {
                            if (i % 4 != 3) {
                                raster[i] = 255 - raster[i];
                            }
                        }
                        ctx.putImageData(imgData, 0, 0);
                    }
                }

                function draw_dataurl(){
                    ctx.fillRect(2,2,5,5);
                    var data = canvas.toDataURL();
                    alert(data);

                    var image = document.getElementById("image");
                    image.src = data;
                }

                function draw_clipping(){
                    var img = new Image();
                    img.src = "bogu.jpg";
                    img.onload = function(){
                        ctx.beginPath();
                        ctx.arc(200,100,100,0,2*Math.PI,true);
                        ctx.clip();
                        ctx.drawImage(img, 50, 0);
                    }
                }

                function draw_clipping2(){
                    var img = new Image();
                    img.src = "bogu.jpg";
                    img.onload = function(){
                        ctx.beginPath();
                        ctx.arc(100,100,80,0,2*Math.PI, true);
                        ctx.rect(200,50,100,100);
                        ctx.clip();
                        ctx.drawImage(img,50,0);
                    }
                }

                // 문자열 클리핑
                function draw_clipping3(){
                    var img = new Image();
                    img.src = "bogu.jpg";
                    img.onload = function(){
                        ctx.beginPath();
                        ctx.arc(200,100,100,0,2*Math.PI, true);
                        ctx.clip();
                        ctx.drawImage(img,50,0);

                        ctx.font = "80px 궁서";
                        ctx.textAlign = "center";
                        ctx.fillStyle = "red";
                        ctx.fillText("코스모스",200,100);
                    }
                }

                // 클리핑 해제상태
                function draw_clipping4(){
                    var img = new Image();
                    img.src = "bogu.jpg";
                    img.onload = function(){
                        ctx.beginPath();
                        ctx.arc(200,100,100,0,2*Math.PI,true);
                        ctx.save();
                        ctx.clip();
                        ctx.drawImage(img,50,0);

                        ctx.restore();

                        ctx.font = "80px 궁서";
                        ctx.textAlign = "center";
                        ctx.fillStyle = "red";
                        ctx.fillText("코스모스",200,100);
                    }
                }

                function draw_translate(){
                    ctx.fillStyle = "blue";
                    ctx.fillRect(50,50,30,30);

                    ctx.translate(50,50);
                    ctx.fillStyle = "red";
                    ctx.fillRect(50,50,30,30);
                }

                function draw_translate2(){
                    ctx.fillStyle = "blue";
                    for(var i = 0; i < 6; i++){
                        ctx.fillRect(50,50,30,30);
                        ctx.translate(50,0);
                    }
                }

                // 캔버스 중앙에 그리기
                function draw_translate3(){
                    ctx.fillStyle = "blue";
                    ctx.translate(canvas.width/2, canvas.height/2);
                    ctx.beginPath();
                    ctx.arc(0,0,80,0,2*Math.PI);
                    ctx.fill();
                }

                // 확대 변환 
                function draw_Scale(){
                    ctx.fillStyle = "blue";
                    ctx.fillRect(50,50,30,30);

                    ctx.scale(2,2);
                    ctx.fillStyle = "red";
                    ctx.fillRect(50,50,30,30);
                }

                // 변환의 순서 연구
                function draw_transorder(){
                    ctx.fillStyle = "blue";
                    ctx.fillRect(10,10,30,30);

                    ctx.translate(50,50);
                    ctx.scale(2,2);
                    ctx.fillStyle = "red";
                    ctx.fillRect(10,10,30,30);

                    ctx.setTransform(1,0,0,1,0,0);
                    ctx.scale(2,2);
                    ctx.translate(50,50);
                    ctx.fillStyle = "green";
                    ctx.fillRect(10,10,30,30);
                }

                function draw_mirroring(){
                    var img = new Image();
                    img.src = "cosmos.jpg";
                    img.onload = function(){
                        ctx.translate(100,0);
                        ctx.scale(-1,1);
                        ctx.drawImage(img,0,0);
                    }
                }

                </script>


        
    </body>
</html>